\documentclass{article}

\title{Formal geometry and algebraic geometry\\(FGA~2)}
\author{A. Grothendieck}
\date{May 1959}

\usepackage{amssymb,amsmath}

\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\usepackage{enumerate}
\usepackage{tikz-cd}
\usepackage{graphicx}

\usepackage{mathrsfs}
%% Fancy fonts --- feel free to remove! %%
\usepackage{Baskervaldx}
\usepackage{mathpazo}


\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{xstring}
\makeatletter
\ifx\pdfmdfivesum\undefined
  \let\pdfmdfivesum\mdfivesum
\fi
\edef\filesum{\pdfmdfivesum file {\jobname}}
\pagestyle{fancy}
\makeatletter
\let\runauthor\@author
\let\runtitle\@title
\makeatother
\fancyhf{}
\lhead{\footnotesize\runtitle}
\rhead{\footnotesize Version: \texttt{\StrMid{\filesum}{1}{8}}}
\cfoot{\small\thepage\ of \pageref*{LastPage}}


\crefname{section}{\S\!}{\S\S\!}
\crefname{equation}{}{}


%% Theorem environments %%

\usepackage{amsthm}

\theoremstyle{plain}

\newtheorem{innercustomtheorem}{Theorem}
\crefname{innercustomtheorem}{Theorem}{Theorems}
\newenvironment{theorem}[1]
  {\renewcommand\theinnercustomtheorem{#1}\innercustomtheorem}
  {\endinnercustomtheorem}

\newtheorem{innercustomproposition}{Proposition}
\crefname{innercustomproposition}{Proposition}{Propositions}
\newenvironment{proposition}[1]
  {\renewcommand\theinnercustomproposition{#1}\innercustomproposition}
  {\endinnercustomproposition}

\newtheorem{innercustomcorollary}{Corollary}
\crefname{innercustomcorollary}{Corollary}{Corollaries}
\newenvironment{corollary}[1]
  {\renewcommand\theinnercustomcorollary{#1}\innercustomcorollary}
  {\endinnercustomcorollary}

%% Shortcuts %%

\newcommand{\sh}{\mathscr}
\newcommand{\cat}{\mathcal}
\newcommand{\fk}{\mathfrak}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\kres}{\kappa}

\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}

\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\RR}{R}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\shHom}{\underline{\Hom}}
\DeclareMathOperator{\shAut}{\underline{\Aut}}
\DeclareMathOperator{\gr}{gr}

\newcommand{\todo}{\textbf{ !TODO! }}
\newcommand{\oldpage}[1]{\marginpar{\footnotesize$\Big\vert$ \textit{p.~#1}}}


%% Document %%

\usepackage{embedall}
\begin{document}

\maketitle
\thispagestyle{fancy}

\renewcommand{\abstractname}{Translator's note.}

\begin{abstract}
  \renewcommand*{\thefootnote}{\fnsymbol{footnote}}
  \emph{This text is one of a series\footnote{\url{https://thosgood.com/translations/}} of translations of various papers into English.}
  \emph{The translator takes full responsibility for any errors introduced in the passage from one language to another, and claims no rights to any of the mathematical content herein.}

  \medskip
  
  \emph{What follows is a translation of the French paper:}

  \medskip\noindent
  \textsc{Grothendieck, A.}
  G\'{e}om\'{e}trie formelle et g\'{e}om\'{e}trie alg\'{e}brique.
  \emph{S\'{e}minaire Bourbaki}, Volume~\textbf{11} (1958--59), Talk no.~182.
\end{abstract}

\setcounter{footnote}{0}

\tableofcontents


%% Content %%

\todo\textbf{do all the errata!!!!!!!!!!}

\section*{}

\emph{[Trans.] The following ``introduction'' comes from the May 1962 ``Commentaires'' (\emph{S\'{e}minaire Bourbaki} \textbf{14}, 1961--62, Compl\'{e}ment). We have also made changes throughout the text following the errata (loc. cit.).}

\oldpage{C-03}
The substance of \cref{section1} to \cref{section5} is contained in the published part of EGA~III; that of \cref{section6} and \cref{section7} is contained in SGA~III.
For the study of the fundamental group, see SGA~V, IX, X, and XI, as well as SGA~1962 (expos\'{e}s X, XII, and XIII) for the Lefschetz-type theorems and numerous open questions.
Only the theory of moderately ramified covers (cf. \cref{theorem14}) has not yet been the object of a dedicated expos\'{e}.
The \hyperref[theorem14corollary1]{corollary} to \cref{theorem14}, which completely determines Galois covers of order prime to the characteristic of an algebraic curve over an algebraically closed field, has been used in an essential manner on three separate occasions:
\begin{enumerate}[1.]
  \item in the proof by Igusa of the Picard inequality for non-singular projective surfaces in arbitrary characteristic;
  \item in the study (developed independently by Ogg and \v{S}afarevi\v{c}) of the group of homogeneous principal bundles over an abelian variety defined over a function field in one variable, in arbitrary characteristic;
  \item in the recent proof, by Artin, of certain key theorems concerning the ``Weil cohomology'' of algebraic varieties.
\end{enumerate}


\section{Schemes}
\label{section1}

\oldpage{182-01}
We know that an affine algebraic space defined over a field $k$ is essentially determined by its affine algebra $A$ (the ring of regular functions defined over $k$), and the morphisms $X\to Y$ of algebraic spaces correspond bijectively to homomorphisms $A(Y)\to A(X)$ of $k$-algebras.
The affine algebra corresponding to an algebraic space is a $k$-algebra of finite type, and, from the ``classical'' point of view, it has no nilpotent elements;
conversely, every such algebra is obtained as the affine algebra of an algebraic space defined over $k$.
There is thus a known dictionary that allows us to interpret situations concerning affine algebraic spaces in terms of commutative algebra.
We have long since noted that we thus obtain more general statements, since it was not generally necessary to suppose that the rings in play were of the form just described, with the Noetherian hypothesis being sufficient the most of the time.
In particular, whether or not a base field were given, it was not necessary to exclude the case where these rings contained nilpotent elements.
Up until now, geometers had refused to take into account this information, and were obstinate in restricting to the consideration of affine algebra without nilpotent elements, i.e. algebraic spaces in whose structure sheaves there are no nilpotent elements (and even, most of the time, ``absolutely irreducible'' algebraic spaces).
The speaker thinks that this state of mind has been a serious obstacle to the development of truly natural methods in algebraic geometry.

Let $A$ be a commutative ring.
It is well known that the set $X=\Spec(A)$ of prime ideals of $A$ is endowed with a natural topology: the ``\emph{Zariski topology}'', or the spectral topology.
Also, there is a sheaf of commutative rings $\sh{O}_X$ on $X$, whose fibre at $\fk{p}\in X$ is the localised ring $A_\fk{p}$, and whose ring of sections can be identified with $A$.
Thus $X$ becomes a \emph{ringed space}, and is called the \emph{prime spectrum} of $A$.
A ring homomorphism $f\colon A\to B$ defines a morphism $f'\colon\Spec(B)\to\Spec(A)$ of ringed spaces, with the underlying map of sets being exactly $\fk{p}\mapsto f^{-1}(\fk{p})$.
The homomorphisms
\oldpage{182-02}
$\Spec(B)\to\Spec(A)$ of ringed spaces obtained in this manner are exactly those for which the homomorphisms $\sh{O}_x\to\sh{O}_y$ (where $x=f'(y)$) are local (i.e. the inverse image of a maximal ideal is a maximal ideal).

We define an \emph{affine scheme} to be a ringed space that is isomorphic to some $\Spec(A)$, and a \emph{prescheme} to be a locally-affine ringed space, i.e. such that every point has an open neighbourhood that is an affine scheme for the induced structure.
We define, in an evident way, \emph{morphisms} of preschemes;
locally, they correspond to ring homomorphisms.

When we fix a prescheme $S$, and we look at morphisms $X\to S$ of preschemes, then $S$ plays the role of a base field or base ring (or, even better, of a base space in a fibration).
We then say that $X$ is an \emph{$S$-prescheme};
if $S=\Spec(A)$, then this also implies that $\sh{O}_X$ is a sheaf of \emph{$A$-algebras}.
So every prescheme can be regarded in a unique way as a $\mathbb{Z}$-prescheme.
Of course, $S$-preschemes form a category, and we can further show that, in this category, the product of two objects $X$ and $Y$ always exists;
it is denoted by $X\times_S Y$.
This notion of product allows us to define the \emph{change of base} of an $S$-prescheme, corresponding to a morphism $S'\to S$, since $X\times_S S'$ can be considered as an $S'$-prescheme.

We say that $X$ is \emph{separated} over $S$ if the diagonal of $X\times_S X$ is closed.
We define a \emph{scheme} to be a prescheme that is separated over $\mathbb{Z}$;
it is then separated over anything.
For simplicity, we will now only speak of schemes, which we will further suppose to be \emph{Noetherian}, i.e. finite unions of affine opens that are spectra of Noetherian rings.
We say that $X$ is \emph{of finite type} over $S$ if, for every affine open subset $U$ of $S$, its inverse image in $X$ is a finite union of affine opens whose rings are algebras of finite type over the ring of $U$.
It is such $S$-schemes that lend themselves to a properly geometry study.
In particular, for every $s\in S$, the fibre $f^{-1}(s)$ of $X$ over $s$ is an algebraic scheme over the residue field $k(s)$ of the local ring $\sh{O}_s$ of $s$ in $S$.
Thus $X$ can be, to a certain extent, considered as a family of ``algebraic spaces'' $f^{-1}(s)$, with the parameter $s$ running over $S$ (i.e., from the local point of view, the set of prime ideals of a given ring).
Of course, the $k(s)$ can have different characteristics.
If $S=\Spec(k)$, where $k$ is a field, then we essentially recover the usual notion of ``algebraic space'', with the only difference being that now the structure sheaf can have nilpotent elements.

\oldpage{182-03}
Inspired by well-known ideas, we can define the notion of a \emph{projective morphism}, and, more generally, of a \emph{proper morphism}.
Such a morphism is of finite type, and further sends closed subsets to closed subsets, and retains this property under an arbitrary change of base.

With $X$ being a (Noetherian, as always) scheme, the sheaf $\sh{O}_X$ is a \emph{coherent sheaf of rings} in the sense of \cite{2}.
The coherent sheaves of modules on $X$ are thus also the sheaves which are locally isomorphic to a cokernel of some morphism $\sh{O}_X^m\to\sh{O}_X^n$.


\section{Formal schemes}
\label{section2}

Let $X$ be a scheme, and $X'$ a closed subset of $X$.
Then there exists a coherent subsheaf $\sh{J}$ of $\sh{O}_X$ such that $X'=\supp\sh{O}_X/\sh{J}$ (and there even exists a larger one \todo?).
Endowing $X'$ with the sheaf $\sh{O}_X/\sh{J}$ makes $X'$ a scheme, denoted $X_0$;
such a scheme is called a \emph{closed subscheme of $X$}.
We can also, for any $n$, consider $X'$ endowed with $\sh{O}_X/\sh{J}^{n+1}$, denoted $X_n$, which is a closed subprescheme of $X$ whose underlying set is again $X'$, but with a different structure sheaf, namely $\sh{O}_{X_n}=\sh{O}_X/\sh{J}^{n+1}$.
Clearly the $\sh{O}_{X_n}$ form a projective system of sheaves of rings on $X$, whose projective limit $\overline{\sh{O}_X}$ is called the \emph{formal completion of $\sh{O}_X$ along $X'$}.
Endowed with this sheaf of rings, $X'$ is called the \emph{formal completion of $X$ along $X'$}, and is thus a ringed space, but not a scheme in general.
For every coherent sheaf $\sh{F}$ on $X$, we can similarly consider the formal completion $\overline{\sh{F}}=\varprojlim_n\sh{F}_n$ of $\sh{F}$ along $X'$ (where $\sh{F}_n=\sh{F}\otimes_{\sh{O}_X}\sh{O}_X/\sh{J}^{n+1}$), which is a sheaf of modules on $\overline{X}$.
Its sections are called \emph{formal sections of $\sh{F}$ along $X$}, and can be identified with elements of $\varprojlim_n\Gamma(X',\sh{F}_n)$.
For $\sh{F}=\sh{O}_X$, we recover the ``holomorphic functions'' of $X$ along $X'$, in the sense of Zariski (whose terminology we will not follow, due to its interferences with classical terminology).

We define a \emph{formal scheme} (implicitly assumed to be Noetherian) to be a topological space $\fk{X}$ endowed with a sheaf of topological rings $\sh{O}_{\fk{X}}$ satisfying the following condition:
there is an isomorphism of sheaves of topological rings $\sh{O}_{\fk{X}}=\varprojlim_n\sh{O}_n$, where the $\sh{O}_n$ form a projective system of sheaves of rings on $\fk{X}$, with each one making $\fk{X}$ into a scheme $\fk{X}_n$, and such that, for $m\geq n$, the homomorphism $\sh{O}_m\to\sh{O}_n$ is surjective and has $\sh{J}_m^{n+1}$ as its kernel, where $\sh{J}_m$ is
\oldpage{182-04}
the kernel of $\sh{O}_m\to\sh{O}_0$.
We will show that $\sh{O}_{\fk{X}}$ is a \emph{coherent} sheaf of \emph{local Noetherian} rings.

By the definitions, a formal completion $\overline{X}$ as above is a formal scheme, and, conversely, every formal scheme is \emph{locally} of this type.
In fact, the data of a formal \emph{affine} scheme (i.e. such that $\fk{X}_0$ is affine, which implies that all the $\fk{X}_n$ are affine) is equivalent to the data of a separated complete $\sh{J}$-adic Noetherian topological ring.

The usual definitions (morphism, morphism of finite type, proper morphism, etc.) for ordinary schemes generalise without problem to formal schemes.


\section{The three fundamental theorems}
\label{section3}

Let $f\colon X\to Y$ be a proper morphism of schemes (Noetherian, as always), and let $Y'$ be a closed subset of $Y'$, with $X'$ its inverse image in $X$, and consider the corresponding formal completions $\overline{Y}$ and $\overline{X}$.
Then $f$ induces a morphism $\overline{f}\colon\overline{X}\to\overline{Y}$ of formal schemes, which is also proper.
Let $\sh{F}$ be a coherent sheaf on $X$, then $\overline{\sh{F}}$ is a coherent sheaf on $\overline{X}$.
In \cref{theorem1}, we forget $X$, $Y$, and $\sh{F}$, and consider only the proper morphism $\overline{f}$ of formal schemes, along with the coherent sheaf $\overline{\sh{F}}$ on $\overline{X}$.
(However, the speaker has only written the complete proof in the case where we start with some $X$, $Y$, $f$, and $F$).

\begin{theorem}{1}
\label{theorem1}
  \emph{(Finiteness theorem).}
  \begin{enumerate}[i.]
    \item The $\RR^q\overline{f}_*(\overline{\sh{F}})$ are coherent sheaves on $\overline{Y}$.
    \item The natural homomorphisms
      \[
        \RR^q\overline{f}_*(\overline{\sh{F}}) \to \varprojlim_n\RR^q (f_n)_*(\sh{F}_n)
      \]
      are isomorphisms.
  \end{enumerate}
\end{theorem}

In this statement, we suppose that we already have some coherent subsheaf $\sh{J}$ of $\sh{O}_Y$ that defines $Y'$, whence, by taking the inverse image, a coherent subsheaf of $\sh{O}_X$ that defines $X'$, whence, by definition, $\sh{F}_n$, $X_n$, $Y_n$, and $f_n\colon X_n\to Y_n$ as in \cref{section2}.
The minor changes that need to be made to the notation in the explanation if we started with an arbitrary proper morphism between two formal schemes are evident.

\Cref{theorem1} deals only with ``formal cohomology''.
The following theorem
\oldpage{182-05}
relates it with ``algebraic cohomology'', and resembles a well-known theorem of Serre \cite{4} on the comparison between algebraic cohomology and analytic cohomology.

\begin{theorem}{2}
\label{theorem2}
  \emph{(First comparison theorem).}
  The $\RR^q f_*(\sh{F})$ are coherent sheaves on $Y$ (which is a particular case of \cref{theorem1}), and the natural homomorphisms
  \[
    \overline{\RR^q f_*(\sh{F})} \to \varprojlim_n \RR^q (f_n)_*(\sh{F}_n)
  \]
  are isomorphisms.
\end{theorem}

\begin{corollary}{1}
\label{theorem2corollary1}
  There are canonical isomorphisms $\overline{\RR^q f_*(\sh{F})} = \RR^q\overline{f}_*(\overline{\sh{F}})$.
\end{corollary}

This corollary is, for $q=0$, a generalisation of Zariski's ``fundamental theorem of holomorphic functions'', from which we will deduce a generalisation of Zariski's ``connection theorem''.
We also note that, while \cref{theorem1}~(ii) is trivial for $q=$, this is not at all the case for \cref{theorem2} nor for its equivalent formulation (\hyperref[theorem2corollary1]{Corollary~1}).
In fact, the proof proceeds by decreasing induction on $q$ (being trivial for large $q$, since then both sides of the equation are zero), and the case $q=0$ thus appears as the last induction step, and so could be called the ``most difficult'' case.

\begin{corollary}{2}
\label{theorem2corollary2}
  Let $Y=\Spec(A)$, and let $Y'$ be defined by an ideal $\sh{J}$ of $A$.
  Then, for every coherent sheaf $\sh{F}$ on $X$, the $H^q(X,\sh{F})$ are $A$-modules of finite type, whose $\sh{J}$-adic completions are the $H^q(\overline{X},\overline{\sh{F}})$.
\end{corollary}

Finally, applying this corollary to $H=\shHom_{\sh{O}_X}(\sh{F},\sh{G})$, we obtain:

\begin{corollary}{3}
\label{theorem2corollary3}
  Let $Y=\Spec(A)$, and let $Y'$ be defined by an ideal $\sh{J}$ of $A$.
  Let $\sh{F}$ and $\sh{G}$ be coherent sheaves on $X$.
  Then $\Hom(\sh{F},\sh{G})$ is an $A$-module of finite type, whose $\sh{J}$-adic completion can be identified with $\Hom(\overline{\sh{F}},\overline{\sh{G}})$.
\end{corollary}

Of course, the natural map $\Hom(\sh{F},\sh{G})\to\Hom(\overline{\sh{F}},\overline{\sh{G}})$ is that which sends a homomorphism $u\colon\sh{F}\to\sh{G}$ to its extension ``by continuity'' $\overline{u}\colon\overline{\sh{F}}\to\overline{\sh{G}}$ (so that $\overline{\sh{F}}$ becomes a functor in $\sh{F}$).

Now suppose that $A$ is separated and complete for its $\sh{J}$-adic topology.
Then the above corollaries \hyperref[theorem2corollary2]{2} and \hyperref[theorem2corollary3]{3} give:
\[
  \begin{aligned}
    H^q(X,\sh{F}) &= H^q(\overline{X},\overline{\sh{F}}),
  \\\Hom(\sh{F},\sh{G}) &= \Hom(\overline{\sh{F}},\overline{\sh{G}}).
  \end{aligned}
\]
\oldpage{182-06}
This latter identity shows that the category of coherent sheaves on $X$ can be identified with a \emph{subcategory} (with morphisms being the induced morphisms) of the category of coherent sheaves on $\overline{X}$.
In fact, we even have:

\begin{theorem}{3}
\label{theorem3}
  For a sheaf of modules on $\overline{X}$ to be coherent, it is necessary and sufficient for it to be isomorphic to a sheaf of the form $\overline{\sh{F}}$, where $\sh{F}$ is a coherent sheaf on $X$ (determined up to canonical isomorphism, by \hyperref[theorem2corollary3]{Corollary~3} of \cref{theorem2}).
  [We recall that now $Y=\Spec(A)$, with $A$ being a complete and separated $\sh{J}$-adic Noetherian topological ring].
\end{theorem}

\begin{corollary}{1}
\label{theorem3corollary1}
  The closed subschemes of $X$ are in bijective correspondence with the closed formal subschemes of $\overline{X}$.
\end{corollary}

Indeed, they correspond to coherent subsheaves of $\sh{O}_X$ (resp. of $\sh{O}_{\overline{X}}$).
Considering the graphs of morphisms as closed subschemes, \hyperref[theorem3corollary1]{Corollary~1} implies:

\begin{corollary}{2}
\label{theorem3corollary2}
  Let $X$ and $Z$ be proper schemes over $A$ (which is a separated complete $\sh{J}$-adic Noetherian ring).
  Then the map $g\mapsto\overline{g}$ defines a bijective correspondence between $Y$-morphism from $X$ to $Z$ and $\overline{Y}$-morphisms from $\overline{X}$ to $\overline{Z}$.
\end{corollary}

In other words, proper algebraic schemes over $A$ give a subcategory (with the morphisms being the induced morphisms) of the category of proper formal schemes over $\overline{Y}$.
We note, however, that \emph{there exist proper formal schemes over $\overline{Y}$ that are not ``algebraisable''}, i.e. isomorphic to some $\overline{X}$, where $X$ is proper over $A$ (just as there exist compact complex-analytic varieties that do not come from algebraic varieties defined over the field of complex numbers).
Such formal schemes naturally appear in ``module theory''.
We note, however, an interesting case where a formal scheme is algebraisable:

\begin{theorem}{4}
\label{theorem4}
  Let $A$ be a complete local Noetherian ring, with residue field $k$, and let $\fk{X}$ be a proper formal scheme over $A$ (endowed with its \todo $\Gamma(A)$-adic topology).
  We suppose that
  \begin{enumerate}[i.]
    \item the local rings of $\sh{O}_{\fk{X}}$ are \emph{flat} $A$-modules, or, equivalently, that, if we endow $\sh{O}_{\fk{X}}$ and $A$ with the filtration given by powers of the maximal ideal of $A$, then the associated graded algebras satisfy
      \[
        \gr(\sh{O}_{\fk{X}}) \simeq \gr^0(\sh{O}_{\fk{X}})\otimes_k\gr(A);
      \]
    \item $H^2(\fk{X}_0,\sh{O}_{\fk{X}_0})=0$, where we consider $\fk{X}_0=\fk{X}\otimes_Ak$ as an algebraic scheme over $k$;
\oldpage{182-07}
    \item $\fk{X}_0$ is projective.
  \end{enumerate}
  Then, under these conditions, $\fk{X}$ is algebraisable, and, more precisely, is isomorphic to $\overline{X}$, where $X$ is some projective $A$-scheme.
\end{theorem}

Conditions~(ii) and (iii) will be satisfied if, in particular, $\fk{X}_0$ is a \emph{simple curve} over $k$, and \cref{theorem4} can be applied, in particular, in the ``module theory'' of curves of a given genus\ldots.
We give a hint on how to prove \cref{theorem4}:
we show (cf. \cref{proposition3} below) that (i) and (ii) imply that every coherent sheaf on $\fk{X}_0$ that is locally isomorphic to a fundamental sheaf can be obtained by reduction starting from a sheaf of the same nature on $\fk{X}$.
So, starting with an ``ample'' sheaf on $\fk{X}_0$ (which, by (iii), exists), we lift it to obtain an invertible sheaf on $\fk{X}$, and, using \cref{theorem1}, we prove that a multiple of this invertible sheaf defined an immersion of $X$ into the formal completion of a scheme $\PP_A^r$ (``projective type'' of dimension~$r$ over $A$).

For the proof of \cref{theorem1,theorem2,theorem3}, we refer the reader to \cite{1}.


\section{Application to Zariski's connection theorem and ``main theorem''}
\label{section4}

Let $f\colon X\to Y$ be a proper morphism of schemes.
Then, by the \hyperref[theorem1]{finiteness theorem}, $f_*(\sh{O}_X)=\underline{A}$ is a coherent sheaf on $Y$, and is also a sheaf of commutative algebras, and thus corresponds to a $Y$-scheme $g\colon Y'\to Y$ that is finite over $Y$ (defined by the condition of being affine over $Y$, i.e. the inverse image of an affine open is affine, and $g_*(\sh{O}_{Y'})=\underline{A}$).
It is immediate that $f$ then canonically factors as $f=gf'$, where $f'\colon X\to Y'$ is a morphism from $X$ to $Y$ that is now such that $f'_*(\sh{O}_X)=\sh{O}_{Y'}$.
This factorisation of $f$ is called \emph{the Stein factorisation} of $f$.
Applying the \hyperref[theorem2]{first comparison theorem} and \hyperref[theorem2corollary1]{Corollary~1} to $f'$ and the subset $Y'$ consisting of a single point $y'$, we see that $(f')^{-1}(y')=X'$ is connected (or, said differently, the formal sections of $X$ along $X'$ do not form a local ring, but the completion $f'_*(\sh{O}_X)_{y'}=\sh{O}_{y'}$ is local!)
We have proven:

\begin{theorem}{5}
\label{theorem5}
  \emph{(Zariski's ``connection theorem'').}
  Let $f\colon X\to Y$ be a proper morphism.
  Then $f$ factors uniquely (up to isomorphism) as $f=gf'$, where $g\colon Y'\to Y$ is finite, and $f'\colon X\to Y'$ is such that $f'_*(\sh{O}_X)=\sh{O}_{Y'}$ (whence $g_*(\sh{O}_{Y'})=f_*(\sh{O}_X)$).
  The fibres of $f'$ are connected,
\oldpage{182-06}
  i.e. the set of connected components of a fibre $f^{-1}(y)$ of $f$ is in bijective correspondence with the set of points of $Y'$ over $y$, i.e. the set of maximal ideals in $f_*(\sh{O}_X)_y$.
\end{theorem}

From this, we immediately deduce the usual variants of the connection theorem.
We state here only the following:

\begin{corollary}{1}
\label{theorem5corollary1}
  For a point $x$ of $X$ to be isolated in its fibre $f^{-1}(y)$, it is necessary and sufficient for the fibre $(f')^{-1}(y')$ (where $y'=f'(x)$) to consist of a single point $x$, or for $f'$ to induce an isomorphism from a neighbourhood of $x$ to a neighbourhood of $y'$.
  The set of these points is an open subset $U$, and $f'$ induces an isomorphism from $U$ to an open subset of $Y'$.
\end{corollary}

To show that $f'$ is a local isomorphism at $x$, we note that $f'$ induces an \emph{isomorphism} $\sh{O}_{y'}\to\sh{O}_x$, as we see thanks to $f'(\sh{O}_X)=\sh{O}_{Y'}$;
we also note that the $(f')^{-1}(V)$ give a fundamental system of neighbourhoods of $x$ when $V$ runs over a fundamental system of neighbourhoods of $y'$ (since $f'$ is a closed map whose fibre at $y'$ consists of the single point $x$).
We thus immediately deduce the following result, due to Chevalley in the ``geometric'' case:

\begin{corollary}{2}
\label{theorem5corollary2}
  For $f$ to be a finite morphism, it is necessary and sufficient for it to be proper with finite fibres.
\end{corollary}

If this is so, then $f'$ is effectively an isomorphism, by the above.

Let $f\colon X\to Y$ be a morphism that is not necessarily proper, but suppose that $X$ is contained in some proper $Y$-scheme $\overline{f}\colon\overline{X}\to Y$ as an open subset (which is the case if, in particular, $\overline{f}$ is quasi-projective).
Applying \hyperref[theorem5corollary1]{Corollary~1}, we see that $\overline{f'}$ (\todo \textbf{or $\overline{f}'$?}) induces an isomorphism from the set $U$ of points of $X$ that are isolated in their fibre to an open subset of $Y'$ (and that $U$ is indeed an open subset).
We thus deduce the following global version of Zariski's ``main theorem'':

\begin{theorem}{6}
\label{theorem6}
  Let $f\colon X\to Y$ be a morphism of finite type.
  Then the set $U$ of points of $X$ that are isolated in their fibre is open, and, if $f$ is quasi-projective\footnote{This hypothesis can be replaced by the weaker hypothesis ``if $f$ is separated'', by means of the following result (see SGA~VIII, 6.2): every morphism $f\colon X\to Y$ which is quasi-finite and separated is also projective.}, then $U$ is $Y$-isomorphic to an open subset of some scheme $Y'$ that is finite over $Y$.
\end{theorem}

Since a morphism of finite type is locally affine, and \emph{a fortiori} locally quasi-projective, we immediately deduce from \cref{theorem6} the usual local variants of the main theorem.


\section{Application to the cohomological study of proper and flat morphisms}
\label{section5}

Let $f\colon X\to Y$ be a proper morphism, and $\sh{F}$ a coherent sheaf on $X$,
\oldpage{182-09}
with $\sh{F}$ assumed to be $Y$-flat, i.e. the $\sh{F}_x$ are flat modules over the rings $\sh{O}_y$ (where $y=f(x)$).
This also implies that, for every $y\in Y$, if we filter $\sh{F}$ along the fibre $f^{-1}(y)$ by the $\fk{m}_y^n\sh{F}$ (where $\fk{m}_y$ is the maximal ideal of $\sh{O}_y$), then the associated graded algebra is isomorphic to $(\sh{F}/\fk{m}_y\sh{F})\otimes_{\kres(y)}\gr(\sh{O}_y)$;
in other words, we have that
\[
  \fk{m}_y^n\sh{F}/\fk{m}_y^{n+1}
  = \sh{F}_y\otimes_{\kres(y)}(\fk{m}_y^n/\fk{m}_y^{n+1})
\]
for every integer $n$, where $\sh{F}_y$ denotes the sheaf $\sh{F}/\fk{m}_y\sh{F}$ induced by $\sh{F}$ on $X_y$ (with $X_y$ denoting the fibre $f^{-1}(y)$ considered as a proper scheme over the residue field $\kres(y)$ of $y$).
Taking this isomorphism, as well as \cref{theorem2}, into account, we obtain augmentations, and sometimes computations, of the $\RR^q f_*(\sh{F})$ in a neighbourhood of $y$, knowing the cohomology of $X_y$ with coefficients in $\sh{F}_y$.
Here \cref{theorem2} takes the form
\[
  \overline{\RR^q f_*(\sh{F})} = \varprojlim_n H^q(\sh{F}_y,\sh{F}/\fk{m}_y^n\sh{F}).
\]
We will mention here only the following consequence:

\begin{proposition}{1}
\label{proposition1}
  Let $f\colon X\to Y$ be a proper morphism, and $\sh{F}$ a coherent $Y$-flat sheaf on $X$.
  Let $y\in Y$, let $q$ be an integer, and suppose that $H^q(X_y,\sh{F}_y)=0$.
  Then $\RR^q f_*(\sh{F})$ is zero on a a neighbourhood of $y$, and, for every $n$, the natural homomorphism
  \[
    \RR^{q-1}f_*(\sh{F})_y \to H^{q-1}(X_y,\sh{F}_y/\fk{m}_y^n\sh{F}_y)
  \]
  is surjective.
\end{proposition}

In particular, if $f$ is a flat morphism (i.e. if $\sh{O}_X$ is $Y$-flat), then every locally free coherent sheaf $\sh{F}$ on $X$ is $Y$-flat.
Let $\sh{F}$ and $\sh{G}$ be two such sheaves, and apply \cref{proposition1} to $\shHom_{\sh{O}_X}(\sh{F},\sh{G})$ and $q=1$ to obtain:

\begin{theorem}{7}
\label{theorem7}
  Let $f$ be a flat proper morphism, $\sh{F}$ and $\sh{G}$ locally free coherent sheaves on $X$, and $y\in Y$;
  suppose that $H^1(X_y,\shHom_{\sh{O}_X}(\sh{F}_y,\sh{G}))=0$.
  Then every homomorphism $u_0\colon\sh{F}_y\to\sh{G}_y$ is induced by a homomorphism $u\colon\sh{F}|V\to\sh{G}|V$, where $V=f^{-1}(U)$ is the inverse image of a neighbourhood $U$ of $y$.
\end{theorem}

\begin{corollary}{1}
\label{theorem7corollary1}
  If $u_0$ is an isomorphism (resp. a monomorphism, resp. an epimorphism), then so too is $u$, for small enough $U$.
\end{corollary}

In particular:

\oldpage{182-10}
\begin{corollary}{2}
\label{theorem7corollary2}
  Let $E_0$ be a locally free coherent sheaf on $X_y$ such that $H^1(X_y;\shHom_{\sh{O}_X}(E_0,E_0))=0$.
  Then any two locally free sheaves whose restrictions to $X_y$ are isomorphic to $E_0$ are themselves isomorphic to one another in a neighbourhood of $X_y$.
\end{corollary}

Thus:

\begin{corollary}{3}
\label{theorem7corollary3}
  Suppose that $H^1(X_y,\sh{O}_{X_y})=0$.
  Then any two invertible sheaves on $X$ (i.e. locally isomorphic to $\sh{O}_X$) whose restrictions to $X_y$ are isomorphic are themselves isomorphic to one another.
\end{corollary}

It thus follows that:

\begin{proposition}{2}
\label{proposition2}
  Let $Y$ be a connected scheme, and $E$ a locally free coherent sheaf on $Y$.
  Consider the bundle of projective spaces $X=\PP(E)$ associated to $E$, endowed with its well-known invertible sheaf $\sh{O}_X(1)$.
  Then every invertible sheaf $\sh{L}$ on $X$ is isomorphic to a sheaf of the form $f^*(\sh{L}')\otimes\sh{O}_X(n)$, where $\sh{L}'$ is an invertible sheaf on $Y$, and $n$ is an integer.
  Further, $n$ is uniquely determined, and $\sh{L}'$ is determined up to isomorphism.
\end{proposition}

The above \hyperref[theorem7corollary3]{Corollary~3} proves that $\sh{L}$ is isomorphic to an $\sh{O}_X(n)$-module on a neighbourhood of each fibre.
The rest is more or less formal.

\Cref{proposition2} allows us to determine the $Y$-morphisms from $X=\PP(E)$ to another projective bundle.
We see, in particular:

\begin{corollary}{1}
  Let $u$ be an automorphism of $X=\PP(E)$.
  Then there exists an invertible sheaf $\sh{L}'$ on $Y$, and an isomorphism $v$ from $E$ to $E\otimes\sh{L}'$ such that $u$ is the isomorphism corresponding to $\PP(E)\xrightarrow{\sim}\PP(E\otimes\sh{L}')=\PP(E)$;
  the pair $(v,\sh{L}')$ is determined up to isomorphism.
\end{corollary}

Let $\Gamma$ be the set of classes of invertible bundles $\sh{L}'$ on $Y$ such that $E\otimes\sh{L}'$ is isomorphic to $E$.
Its elements are torsion, since, if $n$ is the rank of $E$, then (by taking $n$-th exterior powers) we must have that $(\sh{L}')^{\otimes n}\xrightarrow{\sim}\sh{O}_Y$.
The above corollary can then be expressed by saying that we have an exact sequence of groups:
\[
  e \to \Aut(E)/\Gamma(Y,\sh{O}_Y^*) \to \Aut_Y(X) \to \Gamma \to e
\]
(which can also be deduced from the exact sequence in cohomology induced by the exact sequence of \emph{sheaves} of groups
\oldpage{182-11}
\[
  e \to \sh{O}_X^* \to \shAut \to \shAut_Y(X) \to e,
\]
where $\sh{O}_X^*$ is the sheaf of ``units'' of $\sh{O}_X$, identified with the centre of $\shAut(E)$.)


\section{Application to existence and uniqueness theorems for sheaves and schemes over a complete $\mathscr{J}$-adic ring}
\label{section6}

\Cref{theorem7} gave a uniqueness result for locally free coherent sheaves, by using \cref{theorem1} and \cref{theorem2}.
Using \cref{theorem3}, we now obtain \emph{existence} theorems for sheaves, for morphisms of schemes, or for schemes.
In the following, $A$ denotes a local Noetherian ring, assumed to be separated and \emph{complete}.
The general method still consists of making \emph{formal} construction, which consists essentially of doing \emph{algebraic geometry over an Artinian ring}, and deducing conclusions from this that are ``algebraic'' in nature, by using the three fundamental theorems.

\begin{proposition}{3}
\label{proposition3}
  Let $\fk{X}$ be a proper formal scheme that is flat over $A$, and let $\sh{F}_0$ be a locally free sheaf on $X_0$ such that $H^2(X_0,\shHom_{\sh{O}_{X_0}}(\sh{F}_0,\sh{F}_0))=0$.
  Then there exists a locally free sheaf $\sh{F}$ on $\fk{X}$ that induces, on $X_0$, a sheaf isomorphic to $\sh{F}_0$.
  (This $\sh{F}$ is also unique up to isomorphism if $H^1(X_0,\shHom_{\sh{O}_{X_0}}(\sh{F}_0,\sh{F}_0))=0$).
\end{proposition}

We construct, step by step, locally free sheaves $\sh{F}_n$ on the $X_n$, that induce one another.
The construction of $\sh{F}_0$ is met with an obstruction in $H^2(X_0,\shHom_{\sh{O}_{X_0}}(\sh{F}_0,\sh{F}_0))\otimes_{A/\sh{J}}(\sh{J}^n/\sh{J}^{n+1})$, but this is zero, by hypothesis.
Now using \cref{theorem3}, we obtain:

\begin{corollary}{1}
\label{proposition3corollary1}
  Let $X$ be a proper scheme that is flat over $A$, and let $\sh{F}_0$ be as above.
  Then there exists a locally free sheaf $\sh{F}$ on $X$ that induces, on $X_0$, a sheaf that is isomorphic to $\sh{F}_0$.
  This $\sh{F}$ is also unique up to isomorphism if $H^1(X_0,\shHom_{\sh{O}_{X_0}}(\sh{F}_0,\sh{F}_0))=0$.
\end{corollary}

Let $X_0$ be a scheme of finite type over the field $k$, and suppose that $X_0$ is \emph{simple} (by which we mean \emph{absolutely} simple) over $k$, but not necessarily proper over $k$.
Let $A$ be a local Artinian ring with residue field $k$.
We are interested in finding schemes $X$ that are flat over $A$, and such that $X\otimes_A k=X_0$ (this is the starting point of the ``\emph{theory of modules}'', or of ``structure variations''
\oldpage{182-12}
of $X_0$).
It is equivalent to give either such an $X$ or, on the topological space $X_0$, a sheaf $\sh{O}_X$ endowed with the following structures:
\begin{enumerate}[i.]
  \item $\sh{O}_X$ is a sheaf of $A$-algebras;
  \item $\sh{O}_X$ is endowed with an augmentation homomorphism $\sh{O}_X\to\sh{O}_{X_0}$ (that is compatible with the $A$-algebra structures);
\end{enumerate}
and with the above data being subject to the following conditions: the augmentation induces an isomorphism $\sh{O}_X\otimes_A k\xrightarrow{\sim}\sh{O}_{X_0}$;
$\sh{O}_X$ is flat over $A$, i.e. the graded algebra associated to $\sh{O}_X$ filtered by the powers of the maximal ideal $\fk{m}$ of $A$ is isomorphic to $\gr^0(\sh{O}_X)\otimes_k\gr(A)$, i.e. we have isomorphisms $\fk{m}^n\sh{O}_X/\fk{m}^{n+1}\sh{O}_X = \sh{O}_{X_0}\otimes_k(\fk{m}^n/\fk{m}^{n+1})$.
The fundamental fact is the following:

\begin{theorem}{8}
\label{theorem8}
  Let $X_0$ be a simple scheme of finite type over the field $k$, and assume $X_0$ to be affine.
  Let $A$ be a local Artinian ring of residue field $k$.
  Then there exists an $A$-scheme $X$ that is flat over $A$ and such that $X\otimes_A k=X_0$.
  Further, any two such schemes are necessarily isomorphic.
\end{theorem}

Note that the isomorphic in question is not canonical, since $X$ will have, in general, non-trivial $A$-automorphisms that induce the identity on $X_0$.
Furthermore, there is not, in general, a ``canonical'' choice of $X$ satisfying the given conditions, except in the case where $A$ is a $k$-algebra (the case of \emph{equal characteristics}), where we can take $X=X_0\otimes_k A$, i.e. $\sh{O}_X=\sh{O}_{X_0}\otimes_k A$ (whether or not $X_0$ is affine, in fact).
In the case of unequal characteristics, I do not know in general, when $X_0$ is not affine, if we can ``lift'' $X_0$ to an $X$ defined over $A$.
However, for any integer $n>0$, let $A_{n-1}=A/\fk{m}^n$, and suppose that we have lifted $X_0$ to a flat $A_{n-1}$-scheme $X_{n-1}$;
we intend to lift $X_{n-1}$ to a flat $A_n$-scheme $X_n$.
We already know, by \cref{theorem8}, that this is possible locally;
we can also easily verify that, if $U_n$ lifts an open subset $U_{n-1}$ of $X_{n-1}$, then the sheaf of groups of automorphisms of $U_n$ (that induce the identity on $U_{n-1}$) is canonically isomorphic to $\fk{G}_{X_0/k}\otimes_k\fk{m}^n/\fk{m}^{n+1}$ restricted to $U_{n-1}$, and thus, in particular, commutative (where $\fk{G}_{X_0/k}$ denotes the sheaf of germs of $k$-derivations on $X_0$).
It follows easily that we have an \emph{obstruction of constructing $X_n$ lifting $X_{n-1}$}, which lives in $H^2(X_0,\fk{G}_{X_0/k})\otimes\fk{m}^n/\fk{m}^{n+1}$.
Then:

\begin{corollary}{1}
\label{theorem8corollary1}
  Let $X_0$ be a simple scheme of finite type over $k$, and suppose that
\oldpage{182-13}
  \[H^2(X_0,\fk{G}_{X_0/k})=0.\]
  Then, for every local Artinian ring $A$ with residue field $k$, there exists a flat $A$-scheme $X$ such that $X\otimes_A k=X_0$.
\end{corollary}


%% Bibliography %%

\nocite{*}
\begin{thebibliography}{4}

  \bibitem{1}
  {\sc Dieudonn\'{e}, J. and Grothendieck, A.}
  \newblock El\'{e}ments de g\'{e}om\'{e}trie alg\'{e}brique.
  \newblock {\em Publications math\'{e}matiques de l'Institut des Hautes Etudes Scientifiques} (to appear).

  \bibitem{2}
  {\sc Grothendieck, A.}
  \newblock The cohomology theory of abstract algebraic varieties.
  \newblock {\em International Congress of Mathematicians, 1958, Edinburgh} (to appear).

  \bibitem{3}
  {\sc Serre, J.-P.}
  \newblock Faisceux alg\'{e}briques coh\'{e}rents.
  \newblock {\em Annals of Math.} {\bf 61} (1955), 197--278.

  \bibitem{4}
  {\sc Serre, J.-P.}
  \newblock G\'{e}om\'{e}trie alg\'{e}brique et g\'{e}om\'{e}trie analytique.
  \newblock {\em Ann. Institut Fourier Grenoble} \textbf{6} (1955--56), 1--42.

\end{thebibliography}

\end{document}
